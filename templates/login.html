{% extends "base.html" %}

{% block title %}ÄÄƒng nháº­p - YEP Voting{% endblock %}

{% block body %}
<div class="main-container">
    <div class="login-section">
        <h1>ğŸ‰ YEP Voting</h1>
        <p class="subtitle">ÄÄƒng nháº­p Ä‘á»ƒ bÃ¬nh chá»n</p>

        <div class="info-box">
            <strong>ğŸ“Œ HÆ°á»›ng dáº«n:</strong><br>
            - Chá»‰ cáº§n nháº­p <strong>MÃ£ nhÃ¢n viÃªn (MANV)</strong><br>
            - Má»—i ngÆ°á»i chá»‰ vote Ä‘Æ°á»£c 1 láº§n
        </div>

        <form method="POST">
            <div class="form-group">
                <label>TÃ i khoáº£n nhÃ¢n viÃªn:</label>
                <input type="text" name="username" required placeholder="Nháº­p username (vd: nv176)" autocomplete="username">
            </div>
            <button type="submit">ÄÄƒng nháº­p</button>
        </form>

        {% if error %}
        <p class="error">{{ error }}</p>
        {% endif %}

        <div class="admin-link">
            <a href="/admin">ğŸ”’ ÄÄƒng nháº­p Admin</a> | 
            <a href="javascript:void(0)" onclick="openQRModal()">ğŸ“± Xem QR Code</a>
        </div>
    </div>
</div>

<!-- QR Code Modal -->
<div id="qrModal" class="modal">
    <div class="modal-content">
        <h2>ğŸ“± QR Code BÃ¬nh Chá»n</h2>
        <div class="qr-image" aria-label="QR Code">
            <img src="{{ qr_code }}" alt="QR Code">
        </div>
        <p>QuÃ©t mÃ£ QR Ä‘á»ƒ truy cáº­p vÃ  bÃ¬nh chá»n ngay</p>
        <button onclick="closeQRModal()" class="btn-close">ÄÃ³ng</button>
    </div>
</div>

<script>
function openQRModal() {
    document.getElementById('qrModal').style.display = 'flex';
}
function closeQRModal() {
    document.getElementById('qrModal').style.display = 'none';
}
window.onclick = function(event) {
    const modal = document.getElementById('qrModal');
    if (event.target == modal) {
        modal.style.display = 'none';
    }
}
</script>
{% endblock %}